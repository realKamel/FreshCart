<section class="p-3">
  @if (!isMobile()) {
    <aside
      id="default-sidebar"
      class="fixed top-0 left-0 z-40 w-64 sm:mt-[64px] h-screen transition-transform -translate-x-full sm:translate-x-0"
      aria-label="Sidebar"
    >
      <div
        class="h-full px-3 py-4 overflow-y-auto bg-gray-100 dark:bg-emerald-800"
      >
        <ul class="space-y-2 font-medium">
          <li>
            <button
              type="button"
              [routerLink]="['/account', 'profile']"
              [routerLinkActive]="['bg-emerald-100', 'dark:bg-emerald-700']"
              class="flex items-center p-2 text-emerald-900 rounded-lg w-full cursor-pointer dark:text-white hover:bg-emerald-100 dark:hover:bg-emerald-700 group"
            >
              <ng-icon name="lucideCircleUserRound"></ng-icon>
              <span class="ms-3">Profile</span>
            </button>
          </li>
          <li>
            <button
              type="button"
              [routerLink]="['/account', 'orders']"
              [routerLinkActive]="['bg-emerald-100', 'dark:bg-emerald-700']"
              class="flex justify-between items-center p-2 text-emerald-900 rounded-lg w-full cursor-pointer dark:text-white hover:bg-emerald-100 dark:hover:bg-emerald-700 group"
            >
              <span class="flex justify-center items-center gap-x-1">
                <ng-icon name="lucideBoxes" />
                <span class="flex-1 ms-3 whitespace-nowrap">Orders</span>
              </span>
              <span
                class="inline-flex items-center justify-center px-2 ms-3 text-sm font-medium text-emerald-800 bg-emerald-100 rounded-full dark:bg-emerald-700 dark:text-emerald-300"
                >{{ ordersCount() }}</span
              >
            </button>
          </li>
          <li>
            <button
              type="button"
              [routerLink]="['/account', 'wishlist']"
              [routerLinkActive]="['bg-emerald-100', 'dark:bg-emerald-700']"
              class="flex justify-between items-center p-2 text-emerald-900 rounded-lg w-full cursor-pointer dark:text-white hover:bg-emerald-100 dark:hover:bg-emerald-700 group"
            >
              <span class="flex justify-center items-center gap-x-1">
                <ng-icon name="lucideHeart" />
                <span class="flex-1 ms-3 whitespace-nowrap">Wishlist</span>
              </span>
              <span
                class="inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-emerald-800 bg-emerald-100 rounded-full dark:bg-emerald-900 dark:text-emerald-300"
                >{{ this.wishlistCount() || 0 }}</span
              >
            </button>
          </li>
          <li>
            <button
              type="button"
              [routerLink]="['/account', 'cart']"
              [routerLinkActive]="['bg-emerald-100', 'dark:bg-emerald-700']"
              class="flex justify-between items-center p-2 text-emerald-900 rounded-lg w-full cursor-pointer dark:text-white hover:bg-emerald-100 dark:hover:bg-emerald-700 group"
            >
              <span class="flex justify-center items-center gap-x-1">
                <ng-icon name="lucideShoppingCart" />
                <span class="flex-1 ms-3 whitespace-nowrap">Cart</span>
              </span>
              <span
                class="inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-emerald-800 bg-emerald-100 rounded-full dark:bg-emerald-900 dark:text-emerald-300"
                >{{ this.cartCount() || 0 }}</span
              >
            </button>
          </li>
          <li>
            <button
              type="button"
              [routerLink]="['/account', 'addresses']"
              [routerLinkActive]="['bg-emerald-100', 'dark:bg-emerald-700']"
              class="flex justify-between items-center p-2 text-emerald-900 rounded-lg w-full cursor-pointer dark:text-white hover:bg-emerald-100 dark:hover:bg-emerald-700 group"
            >
              <span class="flex justify-center items-center gap-x-1">
                <ng-icon name="lucideMap" />
                <span class="flex-1 ms-3 whitespace-nowrap">My Addresses</span>
              </span>
              <span
                class="inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-emerald-800 bg-emerald-100 rounded-full dark:bg-emerald-900 dark:text-emerald-300"
                >{{ addressesCount() || 0 }}</span
              >
            </button>
          </li>
          <li>
            <button
              type="button"
              title="Log Out"
              class="flex items-center p-2 text-emerald-900 hover:text-red-900 rounded-lg w-full cursor-pointer dark:text-white hover:bg-red-100 dark:hover:bg-red-700 group"
            >
              <span class="flex justify-center items-center gap-x-1">
                <ng-icon name="lucideLogOut"></ng-icon>
                <span class="flex-1 ms-3 whitespace-nowrap">Log Out</span>
              </span>
            </button>
          </li>
        </ul>
      </div>
    </aside>
  } @else {
    <div class="border-b border-gray-200 dark:border-gray-700">
      <ul
        class="flex flex-wrap justify-center items-center text-sm font-medium text-center text-gray-500 dark:text-gray-400"
      >
        <li>
          <button
            type="button"
            [routerLink]="['/account', 'profile']"
            [routerLinkActive]="['bg-emerald-100', 'dark:bg-emerald-700']"
            class="flex items-center p-2 text-emerald-900 rounded-lg w-full cursor-pointer dark:text-white hover:bg-emerald-100 dark:hover:bg-emerald-700 group"
          >
            <ng-icon name="lucideCircleUserRound"></ng-icon>
            <span class="ms-3">Profile</span>
          </button>
        </li>
        <li>
          <button
            type="button"
            [routerLink]="['/account', 'orders']"
            [routerLinkActive]="['bg-emerald-100', 'dark:bg-emerald-700']"
            class="flex justify-between items-center p-2 text-emerald-900 rounded-lg w-full cursor-pointer dark:text-white hover:bg-emerald-100 dark:hover:bg-emerald-700 group"
          >
            <span class="flex justify-center items-center gap-x-1">
              <ng-icon name="lucideBoxes" />
              <span class="flex-1 ms-3 whitespace-nowrap">Orders</span>
            </span>
            <span
              class="inline-flex items-center justify-center px-2 ms-3 text-sm font-medium text-emerald-800 bg-emerald-100 rounded-full dark:bg-emerald-700 dark:text-emerald-300"
              >5</span
            >
          </button>
        </li>
        <li>
          <button
            type="button"
            [routerLink]="['/account', 'addresses']"
            [routerLinkActive]="['bg-emerald-100', 'dark:bg-emerald-700']"
            class="flex justify-between items-center p-2 text-emerald-900 rounded-lg w-full cursor-pointer dark:text-white hover:bg-emerald-100 dark:hover:bg-emerald-700 group"
          >
            <span class="flex justify-center items-center gap-x-1">
              <ng-icon name="lucideMap" />
              <span class="flex-1 ms-3 whitespace-nowrap">My Addresses</span>
            </span>
            <span
              class="inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-emerald-800 bg-emerald-100 rounded-full dark:bg-emerald-900 dark:text-emerald-300"
              >{{ addressesCount() || 0 }}</span
            >
          </button>
        </li>
      </ul>
    </div>
  }
  <div class="p-4 sm:ml-64">
    <div class="p-4">
      <router-outlet />
    </div>
    @if (isMobile()) {
      <div
        class="flex flex-col justify-center rounded-lg bg-gray-100 border-2 gap-2 border-dashed border-emerald-200"
      >
        <div>
          <button
            class="flex gap-2 text-nowrap items-center px-3 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-emerald-50 hover:text-emerald-700"
            type="button"
            title="Toggle Theme"
          >
            <label class="inline-flex items-center cursor-pointer">
              <input
                type="checkbox"
                (click)="
                  $event.stopPropagation(); this._ThemeService.toggleTheme()
                "
                [checked]="_ThemeService.theme() === 'dark'"
                class="sr-only peer"
              />
              <div
                class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 dark:peer-focus:ring-emerald-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-emerald-600 dark:peer-checked:bg-emerald-600"
              ></div>
              <span
                class="ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"
              >
                {{ _ThemeService.theme() | titlecase }} Mode</span
              >
            </label>
          </button>
        </div>
        <div>
          <button
            type="button"
            title="Log Out"
            (click)="_AuthService.signOut()"
            class="flex items-center p-2 border bg-red-500 text-white hover:text-white rounded-lg w-full cursor-pointer dark:text-white hover:bg-red-800 dark:hover:bg-red-700 group"
          >
            <span class="flex justify-center items-center gap-x-1">
              <ng-icon name="lucideLogOut"></ng-icon>
              <span class="flex-1 ms-3 whitespace-nowrap">Log Out</span>
            </span>
          </button>
        </div>
      </div>
    }
  </div>
</section>
